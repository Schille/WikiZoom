<html>
	<head>
		<script src="dependencies/raphael-min.js" type="text/javascript"></script>
		<script src="dependencies/mootools-core-1.4.5.js" type="text/javascript"></script>
		<script src="dependencies/mootools-more-1.4.0.1.js" type="text/javascript"></script>
		
		<script src="ZoomCore.js" type="text/javascript"></script>
		<script src="ZoomUI.js" type="text/javascript"></script>
		<script src="WikiFetcher.js" type="text/javascript"></script>
		<script src="Settings.js"></script>

		<style type="text/css">
			/* Style sheet tooltip */
			/* Gesamtbreite für den Tooltip definieren */
			.tool {
				width: 500px;
			}

			/* Definitionen für den Tooltip-Titel definieren */
			.tool .tip-title {
				margin: 0 0 10px 0;
				padding: 10px 20px;
				font-family: verdana, arial, sans-serif;
				font-weight: bold;
				font-size: 1.2em;
				color: #fff;
				background: #666;
				/* Gecko-Browser (Firefox) */
				-moz-box-shadow: 2px 2px 8px #999;
				/* Webkit-Browser (Safari, Chrome) */
				-webkit-box-shadow: 2px 2px 8px #999;
				/* allgemein CSS3 */
				box-shadow: 2px 2px 8px #999;
			}

			/* Definitionen für den Tooltip-Beschreibungstext definieren */
			.tool .tip-text {
				margin: 0;
				padding: 10px 20px;
				font-family: verdana, arial, sans-serif;
				font-size: 1.1em;
				line-height: 1.7;
				background: #fff;
				/* Gecko-Browser (Firefox) */
				-moz-box-shadow: 2px 2px 8px #999;
				/* Webkit-Browser (Safari, Chrome) */
				-webkit-box-shadow: 2px 2px 8px #999;
				/* allgemein CSS3 */
				box-shadow: 2px 2px 8px #999;
			}
		</style>

	</head>
	<style type="text/css">
		@font-face {
			font-family: "Cabin";
			src: url(./fonts/Cabin-Regular.otf);
		}
	</style>

	<body>
		<script type="text/javascript">
			//Creates canvas 320 × 200 at 10, 50
			var paper = Raphael(0, 0, "100%", "100%");


			var vertex = new Class({
				initialize : function(myTitle, myIntro, myLink, myLevel) {
					this.id = 0;
					this.parent = null;
					this.ajax
					this.children = new Array();
					this.title = myTitle;
					this.intro = myIntro;
					this.link = myLink;
					this.outlinks;
					this.svg;
					this.level = myLevel;
				},
			});

			var vertex_mom = new vertex("Chaostheorie", "Some nice things about this", "http://wikipedia.org",0);
			var vertex_child1 = new vertex("Shits", "Some things about shit", "http://wikipedia.org/shits",1);
			var vertex_child11 = new vertex("Poop", "Some things about poop", "http://wikipedia.org/poop",2);

			function createEdge(x1, y1, x2, y2) {
				var path = paper.path("M190,170 L47,40 L50,37 L200,160");
				path.attr('fill', '#000');
				path.blur(0);
				var path = paper.path("M45,40 L150,20 50,45");
				path.attr('fill', '#000');
				path.blur(0);
			};

			createEdge();
			

			

			function paintNode(myNode, x, y) {
				var level_fac = (Math.pow(0.7,myNode.level));
				var size = 50*level_fac;
				var fontsize = 20*level_fac;

				paper.setStart();
				var circle1 = paper.circle(x, y, size);

				circle1.attr({
					"fill" : "#CCCCCC",
					"fill-opacity" : 1,
					"stroke" : '#AAAAAA',
					"stroke-width" : 2,
				});
				var circle11 = paper.circle(x, y, size-4);
				circle11.attr({
					"stroke" : '#AAAAAA',
					"stroke-dasharray" : "- ",
					"stroke-width" : 2,
					"stroke-linecap" : "round",
				});
			
				var text1 = paper.text(x, y, myNode.title).toFront();
				text1.attr({
					"font-size" : fontsize,
					"font-family" : "Cabin",
					"fill" : '#555555',
				});
				var set3 = paper.setFinish();

				myNode.svg = set3;
				
				var over = function() {
				set3.animate({
					transform : "s1.1"
				}, 2000, "elastic");

				};

				var out = function() {
					set3.animate({
					transform : "s1"
					}, 2000, "elastic");
				};
		
				set3.mouseover(over);
				set3.mouseout(out);

				return myNode;
			};
			
			
			vertext_mom = paintNode(vertex_mom,200,170);
			vertex_child1 = paintNode(vertex_child1,50,40);
			vertex_child11 =paintNode(vertex_child11,150,20);
			
			


			

		</script>
		<script>
			new Request.JSONP({
				url : "http://de.wikipedia.org/w/api.php?action=query&prop=revisions&rvprop=content&rvsection=0&format=json&titles=mannheim&",

				onComplete : function(information) {
					global = information;
					// Log the result to console for inspection
					console.info(information.parse.links[0]['*']);
					var n = information.parse.wikitext['*'].indexOf("'''");
					var k = 1;
					while (true) {
						if (information.parse.wikitext['*'].substring(n - k, n - k + 1) == '\n') {

							var index = information.parse.wikitext['*'].substring(n - k + 1, information.parse.wikitext['*'].length);
							console.info(index);
							break;
						}
						k++;
					}

				}
			}).send();
		</script>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>

	</body>

</html>